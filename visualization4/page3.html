<!DOCTYPE html>
<html lang="en">
<head>
  <!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-VDNR1PZVLE"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-VDNR1PZVLE');
</script>

  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Proxy SVAR Exogeneity Test</title>
  <meta name="description" content="Interactive guide on Proxy SVAR Exogeneity Testing, including strong exogeneity tests and visualizations of proxy relevance and exogeneity.">
  <meta name="keywords" content="SVAR, proxy variables, exogeneity test, econometrics, structural vector autoregression">

  <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "Article",
      "headline": "Strong Proxy Exogeneity Test",
      "description": "This interactive guide provides an introduction to the strong proxy exogeneity test in Bruns and Keweloh (2024).",
      "author": {
        "@type": "Person",
        "name": "Sascha Keweloh",
        "jobTitle": "Postdoc",
        "affiliation": {
          "@type": "Organization",
          "name": "TU Dortmund University"
        },
        "url": "https://wiwi.tu-dortmund.de/fakultaet/fakultaetsangehoerige/sascha-keweloh/"
      },
      "publisher": {
        "@type": "Organization",
        "name": "TU Dortmund University",
        "logo": {
          "@type": "ImageObject",
          "url": "https://lh4.googleusercontent.com/PJeRLoUaHUQ7TYxU46aGtKY-bwSUBhK-pAW4JWpi3ZpUnx75jyNTnhYfB9xLOwFMbsr27b1OKGFKDaDiqNiu_0iXJARKcowmLOtnndxyOtM"
        }
      } 
    }
    </script>

    <script type="application/ld+json">
      {
        "@context": "https://schema.org",
        "@type": "Course",
        "name": "Strong Proxy Exogeneity Test",
        "description": "This interactive guide provides an introduction to the strong proxy exogeneity test in Bruns and Keweloh (2024).",
        "provider": {
          "@type": "Person",
          "name": "Sascha Keweloh",
          "url": "https://sites.google.com/view/sascha-keweloh"
        },
        "hasCourseInstance": {
          "@type": "CourseInstance",
          "courseMode": "online"
        },
        "about": [
          {
            "@type": "Thing",
            "name": "Structural Vector Autoregression",
            "description": "A multivariate time series model used in econometrics and economic analysis."
          },
          {
            "@type": "Thing",
            "name": "Strong Proxy Exogeneity Test",
            "description": "A statistical test for the exogeneity of proxy variables in a SVAR model."
          }
        ]
      }
      </script>

  <link rel="stylesheet" href="styles.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.7.1/chart.min.js"></script>
  <script>
    MathJax = {
      tex: {
        inlineMath: [['$', '$'], ['\\(', '\\)']]
      },
      svg: {
        fontCache: 'global'
      },
      startup: {
        pageReady: () => {
          return MathJax.startup.defaultPageReady().then(() => {
            console.log('MathJax initial typesetting complete');
            // Notify that MathJax is ready
            document.dispatchEvent(new Event('MathJaxReady'));
          });
        }
      }
    };
  </script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/core-js-bundle/minified.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjs/10.0.0/math.min.js"></script>

</head>
<body  class="page3">
  <div id="loading-screen">
    <div class="loader"></div>
  </div>
  <header>
    <h1>Proxy Exogeneity Test</h1>
  </header>

  <main>

    <section class="input-container">

      <div class="menu-bar">
        <button id="menu-toggle" aria-label="Toggle menu">
            <span class="icon">☰</span>
            <span class="text">Menu</span>
        </button>
        <button id="input-toggle" aria-label="Toggle input">
            <span class="icon">⚙</span>
            <span class="text">Input</span>
        </button>
      </div>
      <nav>
        <ul>
        <li><a href="index.html" >SVAR</a></li>
        <li><a href="page2.html">Proxies</a></li> 
        <li><a href="page3.html" class="active">Exogeneity Test   </a></li>
        <li><a href="page4.html" >Strong Exogeneity Test  </a></li> 
        </ul>
      </nav>

        
      <div class="input-content-wrapper expanded"> 


        <div class="input-content"  >

          
          <div class="input-wrapper">
            <div class="label-value-wrapper">
              <label class="InputLabel" for="T" id="T-label" title="Click for more information"><span>$T = $ </span> 
                <span class="InputValue" id="TValue"> 500</span>
               </label> 
            </div>
            <input class="InputRange" type="range" id="T" step="1" value="500" min="250" max="999">
          </div>

          <div class="input-wrapper">
            <div class="label-value-wrapper">
              <label class="InputLabel" for="phi" id="phi-label" title="Click for more information"><span>$\phi = $ </span>
                <span class="InputValue" id="phiValue">  0.00</span>
              </label> 
            </div>
            <input class="InputRange" type="range" id="phi" min="0" max="2.35" step="0.01" value="0">
          </div>
           
       
          <div class="input-wrapper">
            <div class="label-value-wrapper">
              <label class="InputLabel" for="gamma1" id="gamma1-label" title="Click for more information"><span>$\gamma_1 = $</span>
                <span class="InputValue" id="gamma1Value">  2.00</span>
              </label> 
            </div>
            <input class="InputRange" type="range" id="gamma1" min="0" max="5.0" step="0.01" value="2">
          </div>

          <div class="input-wrapper">
            <div class="label-value-wrapper">
              <label class="InputLabel" for="gamma2" id="gamma2-label" title="Click for more information"><span>$\gamma_2 = $</span>
                <span class="InputValue" id="gamma2Value">  0.00</span>
              </label> 
            </div>
            <input class="InputRange" type="range" id="gamma2" min="0" max="5.0" step="0.01" value="0">
          </div>
       
          <div class="input-wrapper">
            <div class="label-value-wrapper">
              <label class="InputLabel" for="rho1" id="rho1-label" title="Click for more information"><span>$\rho_1 = $</span>
                <span class="InputValue" id="rho1Value">  2.00</span>
              </label> 
            </div>
            <input class="InputRange" type="range" id="rho1" min="0" max="5.0" step="0.01" value="2">
          </div>

          <div class="input-wrapper">
            <div class="label-value-wrapper">
              <label class="InputLabel" for="rho2" id="rho2-label" title="Click for more information"><span>$\rho_2 = $</span>
                <span class="InputValue" id="rho2Value">  0.00</span>
              </label> 
            </div>
            <input class="InputRange" type="range" id="rho2" min="0" max="5.0" step="0.01" value="0">
          </div>

          <div class="input-wrapper"> 
            <button id="newDataBtn" class="orange-button">New Data</button>
          </div> 
           
        </div>
      </div>
      
    </section>

    <div class="popup-container">
      <div id="T-popup" class="popup">
        <div class="popup-content">
          <span class="close">&times;</span>
          <h3>Sample Size: $T$</h3>
          <p>T represents the sample size or the number of observations in the dataset.</p>
        </div>
      </div>


      
      <div id="phi-popup" class="popup">
        <div class="popup-content">
          <span class="close">&times;</span>
          <h3>Rotation angle: $\phi$</h3>
          <p>In the bivairate SVAR $u_t = B_0(\phi_0) \epsilon_t$, the reduced form shocks $u_t$   
            are a rotation with an angle of   $\phi_0  (180 / π)$   degree of the structural form shocks $\epsilon_t$. 
            On this page the rotation is fixed at $\phi_0=0.5$.
            The rotation   $\phi $ allows to calculate the innovations $e_t(B(\phi)) = B(\phi)^{-1} u_t$ as a rotation of the reduced form shocks $u_t$ with an angle of $\phi  (180 / π)$ degree.
        </p>
        </div>
      </div>
    
  
    
      <div id="gamma1-popup" class="popup">
        <div class="popup-content">
          <span class="close">&times;</span>
          <h3>Proxy strength: $\gamma_1$</h3>
          <p>The parameter  $\gamma_1$ governs the strength or relevance of the first proxy. A higher value indicates a stronger relationship between the proxy and the target shock.</p>
        </div>
      </div>
    
      <div id="gamma2-popup" class="popup">
        <div class="popup-content">
          <span class="close">&times;</span>
          <h3>Proxy exogeneity:  $\gamma_2$</h3>
          <p>The parameter  $\gamma_2$ governs the exogeneity of the first proxy. A value of zero indicates an exogenous proxy, while larger values lead to an endogenous proxy.</p>
        </div>
      </div>
    </div>

    
    
      <div id="rho1-popup" class="popup">
        <div class="popup-content">
          <span class="close">&times;</span>
          <h3>Proxy strength: $\rho_1$</h3>
          <p>The parameter  $\rho_1$ governs the strength or relevance of the second proxy. A higher value indicates a stronger relationship between the proxy and the target shock.</p>
           </div>
      </div>
    
      <div id="rho2-popup" class="popup">
        <div class="popup-content">
          <span class="close">&times;</span>
          <h3>Proxy strength: $\rho_2$</h3>
          <p>The parameter  $\rho_2$ governs the strength or relevance of the second proxy. A higher value indicates a stronger relationship between the proxy and the target shock.</p>
       </div>
      </div>
    
    
    </div>

 


     

     
      <section id="introduction" class="text-container">
        <h2>Joint proxy exogeneity test for multiple proxies</h2>
        <p>This page shows how the proxy exogeneity assumption can be tested if two proxies are available. 
           The exogeneity test using two proxies is well known in the literature.
            The <a href="page4.html">next</a> page introduces the exogeneity test in 
            <a href="https://doi.org/10.1016/j.jeconom.2024.105876" target="_blank">
            Bruns and Keweloh (2024)</a> using only one proxy.
        </p>
    </section>


   
    <section id="proxy-svar-two-proxies" class="text-container">
      <h2>Proxy SVAR </h2>

      <p> Consider a proxy SVAR with two proxies for the target shock $\epsilon_{1t}$.</p>
     
        <p>The first proxy $z_{ t}$ is given by  $
          z_{ 1t} = \gamma_1 \epsilon_{1 t} + \gamma_2  \epsilon_{2 t} + \eta_{ 1t}
          $, such that $\gamma_1$ governs the strength or relevance of the proxy and 
          $\gamma_2$ the exogeneity of the proxy. </p>
        </p>
        <ul class="input-list">
          <li>Move the $\gamma_1$ and $\gamma_2$ slider to adjust the    strength and   exogeneity of the first proxy $z_{1t}$.</li>
        </ul>
        <div class="equation-wrapper" style="text-align: center;">  
        <span id="current-z"></span> 
        </div>

        <p>The second proxy $z_{2t}$ is given by $
          z_{2t} = \rho_1 \epsilon_{1 t} + \rho_2  \epsilon_{2 t} + \eta_{ 2t}
          $, such that $\rho_1$ governs the strength or relevance of the proxy and 
          $\rho_2$ the exogeneity of the proxy. </p>
        </p>
        <ul class="input-list">
          <li>Move the $\rho_1$ and $\rho_2$ slider to adjust the strength and exogeneity of the second proxy $z_{2t}$.</li>
        </ul>
        <div class="equation-wrapper" style="text-align: center;">  
          <span id="current-z2"></span> 
        </div>

  </section>

  
   
<section id="interactive-simulation" class="text-container"> 
  <h2>Proxy relevance and exogeneity</h2>
  
    <p>The following two plots show the covariance of the proxies with the non-target shock $\epsilon_{2t}$.</p>
  
    <ul class="input-list">
      <li>Move the $\gamma_2$ and $\rho_2$ sliders to adjust the exogeneity of $z_1$ and $z_2$. 
        Observe how the covariance of the proxies with the non-target shock $\epsilon_{2}$ changes. </li>
    </ul>
    <div class="container">  
  



    <section class="chart-container" style="width: 49%; margin-right: 1%;"> 
      <canvas id="scatterPlotZ1Eps2"  aria-label="Scatter plot of the first proxy and structural non-target shock."></canvas>
    </section>
    
    <section class="chart-container" style="width: 49%;"> 
        <canvas id="scatterPlotZ2Eps2" aria-label="Scatter plot of the second proxy and structural non-target shock."></canvas>
      </section> 
    </div>
  
   <p>
    The following two plots show the covariance of the proxies with the non-target innovation $e_{2t}$.
   </p>

   <ul class="input-list">
    <li> Move the $\phi$ slider to adjust the rotation. 
      Observe how the covariance of the proxies with the non-target innovation $e_{2t}$ changes.
      If the proxies are relevant and exogenous, the correlation of the proxies and the non-target innovation $e_2$ should be zero at $\phi=\phi_0=0.5$.
       For different values of $\phi$  the proxies and the non-target innovation $e_2$ will be correlated.
       </li>
   </ul>
  
   
  <div class="container">  
  
      <section class="chart-container" style="width: 49%; margin-right: 1%;"> 
        <canvas id="scatterPlotZ1E1"  aria-label="Scatter plot of the first proxy and non-target innovations."></canvas>
      </section>
    
    <section class="chart-container" style="width: 49%;"> 
        <canvas id="scatterPlotZ1E2" aria-label="Scatter plot of the second proxy and non-target innovations."></canvas>
      </section> 
    </div>
    
  </div>  
  </section>
 
  <section id="proxy-svar-two-proxies-exogeneityt-test" class="text-container">
    <h2> Proxy Exogeneity Test</h2> 
    <p> If both proxies are exogenous, the correlation of both proxies with the non-target innovation $e_2$ should be zero at the same rotation angle $\phi$. 
      If at least one proxy is endogenous, the correlation of the proxy with the non-target shock will be different from zero at the same rotation angle $\phi$. 
    We can use this intuition to construct a joint proxy exogeneity test based on a J-test, see  
    <a href="https://doi.org/10.2307/1912775" target="_blank">Hansen (1982)</a>.</p>


    <p>  Define the loss measuring the correlation of the proxies with the non-target shock at a given rotation angle $\phi$:</p>
    <div class="equation-wrapper" style="text-align: center; border-color: rgb(255, 177, 153); color: rgb(255, 177, 153);"> 
      $   
      loss(\phi) =  \begin{bmatrix} \frac{1}{T} \sum_{t=1}^{T} z_{1t} e_{2t}(\phi) \\ \frac{1}{T} \sum_{t=1}^{T} z_{2t} e_{2t}(\phi) \end{bmatrix} W  \begin{bmatrix} \frac{1}{T} \sum_{t=1}^{T} z_{1t} e_{2t}(\phi) \\\frac{1}{T} \sum_{t=1}^{T} z_{2t} e_{2t}(\phi) \end{bmatrix}'
      $ 
    </div> 
    where $W$ is the asymptotic efficient weighting matrix.
    
    <p>Under the null hypothesis of two exogenous proxies   </p>
      <div class="equation-wrapper" style="text-align: center;">  
        $ H_0: E[z_{1t} e_{2t}(\phi_0)] = E[z_{2t} e_{2t}(\phi_0)] = 0 $
      </div>
    <p> the J-test statistic  $ J = T \cdot loss(\hat{\phi})$  where $\hat{\phi}$ is the value minimizing the loss function follows a Chi-Squared distribution with $J \sim \chi^2(r-q)$ where $r=2$ is equal to the number of moment conditions and 
      $q=1$ is equal to the number of free parameters in $\phi$. </p>

      <p> Consequently, the null hypothesis of two exogenous proxies can be rejected at a significance level of $\alpha$ if $J$ exceeds the critical value of
         the Chi-Squared distribution with $r-q$ degrees of freedom at the $\alpha$ quantile.
      </p>
  </section>




 



    



<section id="interactive-loss" class="text-container">
  <h3>Interactive Loss Calculation</h3> 

  <p>The following plot shows three different loss functions based on the proxy variables $z_1$ and $z_2$. </p>
    <ul>
      <li> The first loss corresponds to the correlation of the first proxy $z_1$ with the non-target innovation $e_{2t}$:  
        <div class="equation-wrapper" style="text-align: center; border-color: rgb(75, 192, 192); color: rgb(75, 192, 192);"> 
          $   
          loss_{z_1}(\phi) =  \begin{bmatrix} \frac{1}{T} \sum_{t=1}^{T} z_{1t} e_{2t}(\phi) \end{bmatrix} W  \begin{bmatrix} \frac{1}{T} \sum_{t=1}^{T} z_{1t} e_{2t}(\phi) \end{bmatrix}'
          $ 
        </div> 
      </li>
      <li> The second loss corresponds to the correlation of the second proxy $z_2$ with the non-target innovation $e_{2t}$:  
        
        <div class="equation-wrapper" style="text-align: center; border-color: rgb(41, 128, 185); color: rgb(41, 128, 185);"> 
          $   
          loss_{z_2}(\phi) =  \begin{bmatrix} \frac{1}{T} \sum_{t=1}^{T} z_{2t} e_{2t}(\phi) \end{bmatrix} W  \begin{bmatrix} \frac{1}{T} \sum_{t=1}^{T} z_{2t} e_{2t}(\phi) \end{bmatrix}'
          $ 
        </div> 
      </li>
      <li> The third loss is the joint loss function and corresponds to the weighteds sum of the correlations of both proxies $z_1$ and $z_2$ with the non-target innovation $e_{2t}$:  
        <div class="equation-wrapper" style="text-align: center; border-color: rgb(255, 177, 153); color: rgb(255, 177, 153);"> 
          $   
          loss(\phi) =  \begin{bmatrix} \frac{1}{T} \sum_{t=1}^{T} z_{1t} e_{2t}(\phi) \\ \frac{1}{T} \sum_{t=1}^{T} z_{2t} e_{2t}(\phi) \end{bmatrix} W  \begin{bmatrix} \frac{1}{T} \sum_{t=1}^{T} z_{1t} e_{2t}(\phi) \\\frac{1}{T} \sum_{t=1}^{T} z_{2t} e_{2t}(\phi) \end{bmatrix}'
          $ 
        </div> 
      </li>
    </ul> 

 
    <p>
      If both proxies are exogenous, all loss functions should (asymptotically) exibit a minimum at the same rotation angle $\phi$.
      Additionally, the loss of the third loss function measuring the weighted sum of the correlations of both proxies with the non-target innovation $e_{2t}$ should 
      be smaller than the critical value of the Chi-Squared distribution.
    </p>

    <ul class="input-list">
      <li>Hit "Estimate" to find the $\phi$ that minimizes the joint loss function.  </li> 
      <li>Move the $\gamma_2$ and $\rho_2$ sliders to adjust exogeneity of the first and second proxy.
          Observe how the minima of the loss functions change.
          For example, an endogenous proxy $z_1$ leads 
          to a minima of the loss function $loss_{z_1}$ at a value of $\phi$ different from the DGP, $\phi_0$. 
          In this case, the minimum of the loss joint loss function $loss(\phi)$ is moves above the critical value of the Chi-Squared distribution and indicates that the null hypothesis of both proxies being exogenous can be rejected.
        
          <li> Move the $\rho_1$ and $\rho_2$ slider to zero to generate an exogenous but irrelevant second proxy. 
            Observe how the exogeneity test looses its ability to detect endogeneity if one of the proxies is exogenous and irrelevant.
          </li>
        </ul>
    
    

  <div class="container">
    <div class="button-container">
      <button id="MinDependenciesBtn2" class="orange-button">Estimate</button>
    </div>
    <div class="chart-wrapper">
      <section class="chart-loss-container">
        <canvas id="lossplot2"  aria-label="Plot of dependencies"></canvas>
      </section>   
      <div class="equation-wrapper">
        <div class="stats-tables-container">
          <div id="stats-ze2" class="stats-container"></div>
      </div>
      </div>
    </div>
  </div>
</section>




<div class="text-container" id="next-steps">
  <h3>Next steps</h3>
  <p>
    The <a href="page4.html">next</a> page introduces the test for proxy exogeneity in <a href="https://doi.org/10.1016/j.jeconom.2024.105876" target="_blank">
      Bruns and Keweloh (2024)</a> using only a single proxy variable.
  </p>
  
</div>


  </main>

  <footer>
    <div class="footer-container">
      <a href="https://github.com/Saschakew/Illustrations" target="_blank">Github</a>
        <a href="https://sites.google.com/view/sascha-keweloh">Sascha Keweloh</a>
    </div>
</footer>
  
  <script  src="page3.js"></script>
</body>
</html>